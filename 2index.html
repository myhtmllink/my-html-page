<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>çˆ¶æ¯NPDå…»è‚²æ¨¡å¼æµ‹è¯„ï½œæ¸©æŸ”æ²»æ„ˆç‰ˆ</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    background: #fdfbfb;
    color: #333;
    padding: 20px;
}
.container{
    max-width: 420px;
    margin: 0 auto;
    background: #ffffff;
    border-radius: 24px;
    box-shadow: 0 8px 30px rgba(0,0,0,0.07);
    overflow: hidden;
}
.page{
    padding: 42px 32px;
    display: none;
    min-height: 100vh;
}
.page.active{
    display: block;
}
.title{
    font-size: 24px;
    font-weight: 700;
    color: #333;
    margin-bottom: 8px;
}
.sub{
    font-size: 14px;
    color: #888;
    margin-bottom: 32px;
}
.start{
    background: linear-gradient(135deg, #a880d8, #c49bdf);
    color: #fff;
    text-align: center;
    padding: 18px;
    border-radius: 16px;
    font-weight: 600;
    font-size: 16px;
    margin-top: 24px;
}
.question{
    font-size: 17px;
    color: #333;
    line-height: 1.6;
    margin-bottom: 26px;
}
.opt{
    padding: 16px;
    border-radius: 14px;
    background: #f6f3fa;
    color: #555;
    margin-bottom: 10px;
    font-size: 15px;
    transition: all 0.25s ease;
}
.opt.sel{
    background: #a880d8;
    color: #fff;
}
.back{
    margin-top: 24px;
    color: #888;
    font-size: 14px;
}
.result{
    padding: 42px 32px;
    display: none;
}
.result.active{
    display: block;
}
.rt{
    text-align: center;
    font-size: 22px;
    font-weight: 700;
    margin-bottom: 28px;
    color: #333;
}
.card{
    background: #f9f7fc;
    border-radius: 16px;
    padding: 22px;
    margin-bottom: 16px;
}
.cardt{
    font-size: 16px;
    font-weight: 600;
    margin-bottom: 12px;
    color: #333;
}
.cardp{
    font-size: 15px;
    color: #555;
    line-height: 1.6;
}
/* æ–°å¢ï¼šè¡¨æ ¼æ ·å¼ï¼Œæ¨¡ä»¿SDS */
.result-table {
    width: 100%;
    border-collapse: collapse;
    margin: 12px 0;
    font-size: 15px;
}
.result-table th, .result-table td {
    border: 1px solid #d8d2e0;
    padding: 10px;
    text-align: left;
}
.result-table th {
    background: #f0ebf7;
    color: #555;
    font-weight: 600;
}
.result-table td {
    color: #333;
}
.result-table .red {
    color: #e53e3e;
    font-weight: 600;
}
.result-table .green {
    color: #48bb78;
    font-weight: 600;
}
.tag{
    display: inline-block;
    padding: 6px 14px;
    border-radius: 20px;
    font-size: 13px;
    font-weight: 600;
    color: #fff;
    margin-bottom: 8px;
}
.dim-item{
    margin-bottom: 15px;
}
.dim-label{
    font-size: 14px;
    color: #555;
    margin-bottom: 6px;
}
.dim-bar{
    width: 100%;
    height: 6px;
    background: #e9e3f0;
    border-radius: 3px;
    overflow: hidden;
}
.dim-fill{
    height: 100%;
    border-radius: 3px;
}
.measure-item{
    margin-bottom: 10px;
    font-size: 14px;
    color: #555;
    line-height: 1.5;
}
.measure-item::before{
    content: "â€¢ ";
    color: #a880d8;
}
.warm{
    text-align: center;
    font-size: 15px;
    color: #a880d8;
    margin-top: 20px;
    line-height: 1.7;
    padding: 0 10px;
}
</style>
</head>
<body>

<div class="container">

<div class="page active" id="p0">
    <div class="title">çˆ¶æ¯NPDæ¨¡å¼æµ‹è¯„</div>
    <div class="sub">çœ‹è§è‡ªå·±ï¼Œæ‹¥æŠ±è‡ªå·±ï½œä»…ä¾›å‚è€ƒ</div>
    <div class="start" onclick="g(0,1)">å¼€å§‹æµ‹è¯„</div>
</div>

<script>
const total = 24;
let ans = Array(total+1).fill(-1);

const dimensions = [
    { name: "è‡ªæˆ‘ä¸­å¿ƒä¸ä¼˜è¶Šæ„Ÿ", questions: [1,2,3,4] },
    { name: "ç¼ºä¹å…±æƒ…ä¸æƒ…æ„Ÿå¿½è§†", questions: [5,6,7,8] },
    { name: "è¾¹ç•Œä¾µçŠ¯ä¸æ§åˆ¶æ¬²", questions: [9,10,11,12] },
    { name: "æƒ…æ„Ÿæ“æ§ä¸ç…¤æ°”ç¯", questions: [13,14,15,16] },
    { name: "è´¬ä½å¦å®šä¸æœ‰æ¡ä»¶çˆ±", questions: [17,18,19,20] },
    { name: "æ¨å¸è´£ä»»ä¸åŒæ ‡", questions: [21,22,23,24] },
];

// ç”Ÿæ´»åŒ–NPDé¢˜ç›®
const qs = [
"",
"1. çˆ¶æ¯æ€»è§‰å¾—è‡ªå·±æ°¸è¿œæ˜¯å¯¹çš„ï¼Œåˆ«äººéƒ½è¦å¬ä»–ä»¬çš„",
"2. å®¶é‡Œä¸€åˆ‡éƒ½è¦å›´ç€çˆ¶æ¯çš„æƒ…ç»ªå’Œéœ€æ±‚è½¬",
"3. çˆ¶æ¯å¾ˆçˆ±é¢å­ï¼Œå¸¸å¸¸å¤¸å¤§è‡ªå·±æ¥è·å¾—åˆ«äººç¾¡æ…•",
"4. çˆ¶æ¯è§‰å¾—å®¶äººå°±è¯¥æ— æ¡ä»¶é¡ºä»ä»–ä»¬ï¼Œä¸èƒ½æœ‰æ„è§",
"5. ä½ éš¾è¿‡æ—¶ï¼Œçˆ¶æ¯è§‰å¾—æ˜¯ä½ çŸ«æƒ…ã€è„†å¼±ã€æƒ³å¤ªå¤š",
"6. çˆ¶æ¯å¾ˆå°‘çœŸæ­£å…³å¿ƒä½ çš„æ„Ÿå—ï¼Œåªåœ¨ä¹ç»“æœ",
"7. ä½ å—ä¼¤å§”å±ˆæ—¶ï¼Œçˆ¶æ¯ä¸ä¼šå®‰æ…°ï¼Œåè€ŒæŒ‡è´£ä½ ",
"8. çˆ¶æ¯å¾ˆéš¾ç«™åœ¨ä½ çš„è§’åº¦ä¸ºä½ ç€æƒ³",
"9. çˆ¶æ¯éšæ„ç¿»ä½ ä¸œè¥¿ã€çœ‹ä½ æ‰‹æœºï¼Œä¸å°Šé‡éšç§",
"10. çˆ¶æ¯å¼ºçƒˆå¹²æ¶‰ä½ çš„äº¤å‹ã€ä¸“ä¸šã€å·¥ä½œã€æ„Ÿæƒ…",
"11. çˆ¶æ¯æŠŠä½ å½“æˆä»–ä»¬çš„é™„å±å“ï¼Œä¸æ˜¯ç‹¬ç«‹çš„äºº",
"12. çˆ¶æ¯æ€»æƒ³æ§åˆ¶ä½ çš„æƒ³æ³•å’Œé€‰æ‹©",
"13. çˆ¶æ¯å¸¸ç”¨â€œæˆ‘éƒ½æ˜¯ä¸ºä½ å¥½â€æ¥é€¼ä½ å¬è¯",
"14. ä¸é¡ºä»å°±å†·æˆ˜ã€å‘è„¾æ°”ï¼Œè®©ä½ æ„§ç–šå¦¥å",
"15. çˆ¶æ¯ä¼šå¦å®šä½ çš„è®°å¿†å’Œæ„Ÿå—ï¼Œè®©ä½ æ€€ç–‘è‡ªå·±",
"16. çˆ¶æ¯ä¼šé“å¾·ç»‘æ¶ï¼Œè®©ä½ è§‰å¾—æ‹’ç»å°±æ˜¯ä¸å­",
"17. çˆ¶æ¯åªåœ¨ä½ ä¼˜ç§€å¬è¯æ—¶æ‰å¯¹ä½ å¥½ï¼Œå¦åˆ™å†·æ·¡",
"18. çˆ¶æ¯å–œæ¬¢åœ¨å¤–äººé¢å‰è´¬ä½ä½ ã€æŠ¬é«˜è‡ªå·±",
"19. ä½ å–å¾—æˆç»©ï¼Œçˆ¶æ¯ä¸ä»…ä¸é¼“åŠ±ï¼Œè¿˜æ³¼å†·æ°´",
"20. çˆ¶æ¯å¾ˆå°‘çœŸå¿ƒå¤¸å¥–ä½ ï¼Œæ€»ç›¯ç€ä½ çš„ç¼ºç‚¹",
"21. çˆ¶æ¯æ°¸è¿œä¸è®¤é”™ï¼Œé”™çš„éƒ½æ˜¯ä½ æˆ–åˆ«äºº",
"22. çˆ¶æ¯æŠŠè‡ªå·±çš„ä¸é¡ºå’Œå¤±è´¥éƒ½æ€ªåˆ°ä½ èº«ä¸Š",
"23. å¯¹è‡ªå·±å¾ˆå®½å®¹ï¼Œå¯¹ä½ å´æåº¦ä¸¥å‰ã€åŒæ ‡",
"24. çˆ¶æ¯å‘æ³„æƒ…ç»ªæ—¶ï¼Œå¸¸å¸¸ä¸é¡¾åŠå¯¹ä½ çš„ä¼¤å®³"
];

for(let i=1;i<=total;i++){
    let h = `
    <div class="page" id="p${i}">
        <div class="title">ç¬¬ ${i}/${total} é¢˜</div>
        <div class="question">${qs[i]}</div>
        <div class="opt" onclick="s(${i},0)">å®Œå…¨ä¸ç¬¦åˆ</div>
        <div class="opt" onclick="s(${i},1)">å¶å°”ç¬¦åˆ</div>
        <div class="opt" onclick="s(${i},2)">ç»å¸¸ç¬¦åˆ</div>
        <div class="opt" onclick="s(${i},3)">å®Œå…¨ç¬¦åˆ</div>
        <div class="back" onclick="g(${i},${i-1})">â† è¿”å›ä¸Šä¸€é¢˜</div>
    </div>`;
    document.body.innerHTML += h;
}

document.body.innerHTML += `
<div class="result" id="res">
    <div class="rt">ğŸ§© ä½ çš„NPDæ¨¡å¼åˆ†ææŠ¥å‘Š</div>

    <!-- ç®€åŒ–åçš„ç»¼åˆè¯„åˆ†ï¼šåªæ˜¾ç¤ºæ€»åˆ†å’Œä¸€å¥è¯ç»“è®º -->
    <div class="card">
        <div class="cardt">ğŸ“Š ç»¼åˆè¯„åˆ†</div>
        <div style="font-size: 36px; font-weight: 700; text-align: center; margin: 16px 0;" id="simple_score">0</div>
        <div style="text-align: center; font-size: 16px; color: #888;" id="simple_desc">æ­£åœ¨ç”Ÿæˆç»“æœ...</div>
    </div>

    <div class="card">
        <div class="cardt">ğŸ  å…³ç³»é£é™©è¯„ä¼°</div>
        <div class="tag" id="risk_tag"></div>
        <div class="cardp" id="risk_desc"></div>
    </div>

    <!-- æ–°å¢ï¼šæ¨¡ä»¿SDSçš„ç»“æ„åŒ–è¡¨æ ¼ -->
    <div class="card">
        <div class="cardt">ğŸ“‹ ç»“æ„å› å­è¯¦ç»†å¾—åˆ†</div>
        <div id="factor_table"></div>
    </div>

    <div class="card">
        <div class="cardt">ğŸ“ˆ å…­ç»´è¯¦ç»†åˆ†æ</div>
        <div id="dimensions_container"></div>
    </div>

    <div class="card">
        <div class="cardt">ğŸ” æ ¸å¿ƒç›¸å¤„æ¨¡å¼</div>
        <div class="cardp" id="pattern"></div>
    </div>

    <div class="card">
        <div class="cardt">ğŸ›¡ï¸ æ¸©æŸ”è€Œåšå®šçš„åº”å¯¹æ–¹å¼</div>
        <div id="measures_container"></div>
    </div>

    <div class="card">
        <div class="cardt">ğŸ’Œ æƒ³å¯¹ä½ è¯´çš„è¯</div>
        <div class="cardp" id="advice"></div>
    </div>

    <!-- æ–°å¢ï¼šåˆ†çº§æ ‡å‡†è¡¨æ ¼ -->
    <div class="card">
        <div class="cardt">ğŸ“Š NPDæ¨¡å¼åˆ†çº§æ ‡å‡†</div>
        <table class="result-table">
            <tr>
                <th>åŸå§‹æ€»åˆ†</th>
                <th>å…³ç³»è¯„ä¼°</th>
            </tr>
            <tr>
                <td>0~24åˆ†</td>
                <td>ä½é£é™©ï½œå¥åº·å‹</td>
            </tr>
            <tr>
                <td>25~48åˆ†</td>
                <td>ä¸­é£é™©ï½œè½»å¾®è‡ªæ‹å€¾å‘</td>
            </tr>
            <tr>
                <td>49~72åˆ†</td>
                <td>é«˜é£é™©ï½œæ˜æ˜¾NPDæ¨¡å¼</td>
            </tr>
        </table>
        <div class="cardp" style="margin-top:10px; font-size:14px; color:#888;">
            æ³¨ï¼šæœ¬æµ‹è¯„ç»“æœä»…ä¾›è‡ªæˆ‘å‚è€ƒï¼Œéä¸“ä¸šè¯Šæ–­ã€‚
        </div>
    </div>

    <div class="warm" id="warm_text"></div>
</div>`;

function s(q,v){
    ans[q] = v;
    let os = document.querySelectorAll(`#p${q} .opt`);
    os.forEach(o=>o.classList.remove('sel'));
    os[v].classList.add('sel');
    setTimeout(()=>q<total?g(q,q+1):r(), 260);
}

function g(f,t){
    document.querySelectorAll('.page,.result').forEach(x=>x.classList.remove('active'));
    document.getElementById(`p${t}`).classList.add('active');
}

function calculateDimensionScores(){
    return dimensions.map(dim => {
        const dimTotal = dim.questions.reduce((sum,q)=>sum+ans[q], 0);
        const maxDimScore = 4*3;
        const percentage = (dimTotal / maxDimScore)*100;
        return {
            name: dim.name,
            score: dimTotal,
            maxScore: maxDimScore,
            percentage: percentage,
            color: getColor(percentage)
        };
    });
}

function getColor(p){
    if(p <= 25) return "#74c69d";
    if(p <= 50) return "#ffc078";
    if(p <= 75) return "#ff926b";
    return "#ff7878";
}

function getMeasures(totalScore){
    if(totalScore <= 24){
        return [
            "æ­£å¸¸ç›¸å¤„ï¼ŒçœŸè¯šè¡¨è¾¾è‡ªå·±çš„æ„Ÿå—å³å¯",
            "é‡åˆ°åˆ†æ­§å¯ä»¥å¥½å¥½æ²Ÿé€šï¼Œä¸å¿…è¿‡åº¦é˜²å¤‡",
            "çæƒœè¿™æ®µç›¸å¯¹å¥åº·çš„å…³ç³»"
        ];
    }
    if(totalScore <= 48){
        return [
            "æ¸©å’Œå®ˆä½è‡ªå·±çš„è¾¹ç•Œï¼Œä¸å§”å±ˆè®¨å¥½",
            "å‡å°‘å¯¹çˆ¶æ¯æƒ…ç»ªçš„è¿‡åº¦è´Ÿè´£",
            "å°äº‹åŒ…å®¹ï¼Œå¤§äº‹åšæŒè‡ªå·±çš„ç«‹åœº",
            "å¤šå…³æ³¨è‡ªå·±çš„å¿ƒæƒ…ï¼Œä¸å¿…äº‹äº‹é¡ºä»"
        ];
    }
    if(totalScore <= 72){
        return [
            "é™ä½æœŸå¾…ï¼Œæ¥å—ä»–ä»¬å¾ˆéš¾æ”¹å˜",
            "å°‘åˆ†äº«å†…å¿ƒè„†å¼±ï¼Œé¿å…è¢«å¦å®šä¼¤å®³",
            "ç”¨å¹³æ·¡æ€åº¦å›åº”ï¼Œä¸é™·å…¥äº‰åµ",
            "å¤šå’Œæ”¯æŒä½ çš„äººåœ¨ä¸€èµ·ï¼Œè¡¥å……èƒ½é‡",
            "ä¼˜å…ˆä¿æŠ¤è‡ªå·±çš„æƒ…ç»ªç¨³å®š"
        ];
    }
    return [
        "æŠŠè‡ªå·±çš„å®‰å…¨å’Œå¿ƒç†å¥åº·æ”¾åœ¨ç¬¬ä¸€ä½",
        "å‡å°‘é«˜é¢‘æ¥è§¦ï¼Œå¿…è¦æ—¶ä¿æŒè·ç¦»",
        "ä¸å†æœŸå¾…ä»–ä»¬ç†è§£ä½ ã€è®¤å¯ä½ ",
        "ç›¸ä¿¡è‡ªå·±çš„æ„Ÿå—ï¼Œä¸è¢«ç…¤æ°”ç¯æ“æ§",
        "å…è®¸è‡ªå·±éš¾è¿‡ï¼Œä¹Ÿå…è®¸è‡ªå·±æ…¢æ…¢ç–—æ„ˆ",
        "ä½ å€¼å¾—è¢«å¥½å¥½å¯¹å¾…ï¼Œé”™ä»æ¥ä¸åœ¨ä½ "
    ];
}

function analyze(totalScore){
    const maxTotal = total*3;
    const p = (totalScore/maxTotal)*100;

    if(totalScore <= 24){
        return {
            level: "ä½é£é™©ï½œå¥åº·å‹",
            color: "#74c69d",
            desc: "çˆ¶æ¯æ²¡æœ‰æ˜æ˜¾NPDç‰¹å¾ï¼Œæ•´ä½“å…³ç³»å¥åº·ï¼Œèƒ½å°Šé‡ä½ ã€ç†è§£ä½ ã€æ”¯æŒä½ ã€‚",
            pattern: "ç›¸å¤„æ¨¡å¼ï¼šå¹³ç­‰ã€å°Šé‡ã€æœ‰å…±æƒ…ï¼Œå°‘æœ‰æ§åˆ¶ä¸å¦å®šï¼Œä½ èƒ½è‡ªåœ¨åšè‡ªå·±ã€‚",
            advice: "ä½ åœ¨æ¯”è¾ƒå¥åº·çš„å®¶åº­æ°›å›´ä¸­é•¿å¤§ï¼Œå¾ˆå¹¸è¿ã€‚è¯·å¤§èƒ†çˆ±è‡ªå·±ï¼Œè¿½æ±‚æƒ³è¦çš„ç”Ÿæ´»ã€‚"
        };
    }
    if(totalScore <= 48){
        return {
            level: "ä¸­é£é™©ï½œè½»å¾®è‡ªæ‹å€¾å‘",
            color: "#ffc078",
            desc: "çˆ¶æ¯æœ‰ä¸€å®šè‡ªæ‹ç‰¹å¾ï¼šè‡ªæˆ‘ä¸­å¿ƒã€æ§åˆ¶æ¬²è¾ƒå¼ºã€å…±æƒ…ä¸è¶³ï¼Œä¼šè®©ä½ å¶å°”æ„Ÿåˆ°å†…è€—ã€‚",
            pattern: "ç›¸å¤„æ¨¡å¼ï¼šæœ‰çˆ±ä½†æ–¹å¼ç”Ÿç¡¬ï¼Œæœ‰å…³å¿ƒä½†ç¼ºå°‘è¾¹ç•Œï¼Œå®¹æ˜“ç”¨æŒ‡è´£ã€è¯´æ•™ä»£æ›¿æ²Ÿé€šã€‚",
            advice: "ä½ ä¸ç”¨å®Œç¾ï¼Œä¹Ÿä¸ç”¨æ ·æ ·é¡ºä»ã€‚å®ˆä½è¾¹ç•Œï¼Œä¿æŠ¤å¥½è‡ªå·±ï¼ŒåŒæ—¶ä¸å¿…è¿‡åº¦æ€¨æ¨ã€‚"
        };
    }
    if(totalScore <= 72){
        return {
            level: "é«˜é£é™©ï½œæ˜æ˜¾NPDæ¨¡å¼",
            color: "#ff926b",
            desc: "çˆ¶æ¯å‘ˆç°è¾ƒå…¸å‹çš„NPDè¡Œä¸ºï¼šé•¿æœŸå¿½è§†ä½ çš„æ„Ÿå—ã€æƒ…æ„Ÿæ“æ§ã€è¾¹ç•Œå…¥ä¾µã€å¦å®šæ‰“å‹ï¼Œä½ å¸¸å¸¸æ„Ÿåˆ°ç–²æƒ«ä¸è‡ªæˆ‘æ€€ç–‘ã€‚",
            pattern: "ç›¸å¤„æ¨¡å¼ï¼šæœ‰æ¡ä»¶çš„çˆ±ã€ç…¤æ°”ç¯æ•ˆåº”ã€é“å¾·ç»‘æ¶ã€åŒæ ‡ä¸¥é‡ï¼Œä½ éœ€è¦ä¸æ–­è®¨å¥½æ‰èƒ½æ¢æ¥ä¸€ç‚¹è®¤å¯ã€‚",
            advice: "ä½ çš„ç—›è‹¦éƒ½æ˜¯çœŸå®çš„ï¼Œä¸æ˜¯ä½ æ•æ„Ÿï¼Œä¹Ÿä¸æ˜¯ä½ ä¸æ‡‚äº‹ã€‚ä½ å·²ç»åšå¾—å¾ˆå¥½äº†ã€‚"
        };
    }
    return {
        level: "æé«˜é£é™©ï½œå…¸å‹NPD",
        color: "#ff7878",
        desc: "çˆ¶æ¯å…·å¤‡æ˜æ˜¾è‡ªæ‹å‹äººæ ¼æ¨¡å¼ï¼šæåº¦è‡ªæˆ‘ä¸­å¿ƒã€æ— å…±æƒ…ã€é•¿æœŸæƒ…æ„Ÿæ§åˆ¶ä¸è´¬ä½ï¼Œå·²ç»™ä½ å¸¦æ¥å¾ˆæ·±çš„ç–²æƒ«ä¸åˆ›ä¼¤ã€‚",
        pattern: "ç›¸å¤„æ¨¡å¼ï¼šä½ é•¿æœŸè¢«å½“ä½œæ»¡è¶³ä»–ä»¬è‡ªå°Šçš„å·¥å…·ï¼Œæ„Ÿå—ä¸è¢«çœ‹è§ï¼Œéœ€æ±‚ä¸è¢«é‡è§†ï¼Œåªèƒ½å‹æŠ‘ã€é¡ºä»ã€è‡ªæˆ‘æ€€ç–‘ã€‚",
        advice: "çœŸçš„è¾›è‹¦ä½ äº†ã€‚ä½ ä¸éœ€è¦æ‹¯æ•‘ä»–ä»¬ï¼Œä¹Ÿä¸éœ€è¦è¯æ˜è‡ªå·±å€¼å¾—è¢«çˆ±ã€‚ä½ æœ¬æ¥å°±å€¼å¾—ã€‚"
    };
}

function getWarmMessage(){
    return "ä¸ç®¡è¿‡å»å‘ç”Ÿè¿‡ä»€ä¹ˆï¼Œä½ éƒ½å€¼å¾—è¢«æ¸©æŸ”ä»¥å¾…ã€‚ä»ä»Šå¤©èµ·ï¼ŒæŠŠçˆ±ä¸å®‰å…¨æ„Ÿï¼Œæ…¢æ…¢è¿˜ç»™è‡ªå·±ã€‚";
}

function r(){
    let totalScore = ans.slice(1,25).reduce((a,b)=>a+b,0);
    let dims = calculateDimensionScores();
    let res = analyze(totalScore);
    let meas = getMeasures(totalScore);
    let maxTotal = total*3;
    let p = (totalScore/maxTotal)*100;

    document.querySelectorAll('.page').forEach(x=>x.classList.remove('active'));
    document.getElementById('res').classList.add('active');

    // ç®€åŒ–ç»¼åˆè¯„åˆ†ï¼šå¤§æ•°å­—+ä¸€å¥è¯ç»“è®º
    document.getElementById('simple_score').innerText = totalScore;
    document.getElementById('simple_score').style.color = res.color;
    document.getElementById('simple_desc').innerText = res.level;

    document.getElementById('risk_tag').innerText = res.level;
    document.getElementById('risk_tag').style.background = res.color;
    document.getElementById('risk_desc').innerText = res.desc;
    document.getElementById('pattern').innerText = res.pattern;
    document.getElementById('advice').innerText = res.advice;
    document.getElementById('warm_text').innerText = getWarmMessage();

    // æ¸²æŸ“ç»“æ„å› å­è¡¨æ ¼ï¼ˆæ¨¡ä»¿SDSï¼‰
    let factorTable = document.getElementById('factor_table');
    factorTable.innerHTML = `
        <table class="result-table">
            <tr>
                <th>ç»“æ„å› å­</th>
                <th>æµ‹è¯•ç»“æœ</th>
                <th>å–å€¼èŒƒå›´</th>
            </tr>
            <tr>
                <td>è‡ªæˆ‘ä¸­å¿ƒä¸ä¼˜è¶Šæ„Ÿæ€»åˆ†</td>
                <td class="${dims[0].score > 6 ? 'red' : 'green'}">${dims[0].score}</td>
                <td>0~12</td>
            </tr>
            <tr>
                <td>ç¼ºä¹å…±æƒ…ä¸æƒ…æ„Ÿå¿½è§†æ€»åˆ†</td>
                <td class="${dims[1].score > 6 ? 'red' : 'green'}">${dims[1].score}</td>
                <td>0~12</td>
            </tr>
            <tr>
                <td>è¾¹ç•Œä¾µçŠ¯ä¸æ§åˆ¶æ¬²æ€»åˆ†</td>
                <td class="${dims[2].score > 6 ? 'red' : 'green'}">${dims[2].score}</td>
                <td>0~12</td>
            </tr>
            <tr>
                <td>æƒ…æ„Ÿæ“æ§ä¸ç…¤æ°”ç¯æ€»åˆ†</td>
                <td class="${dims[3].score > 6 ? 'red' : 'green'}">${dims[3].score}</td>
                <td>0~12</td>
            </tr>
            <tr>
                <td>è´¬ä½å¦å®šä¸æœ‰æ¡ä»¶çˆ±æ€»åˆ†</td>
                <td class="${dims[4].score > 6 ? 'red' : 'green'}">${dims[4].score}</td>
                <td>0~12</td>
            </tr>
            <tr>
                <td>æ¨å¸è´£ä»»ä¸åŒæ ‡æ€»åˆ†</td>
                <td class="${dims[5].score > 6 ? 'red' : 'green'}">${dims[5].score}</td>
                <td>0~12</td>
            </tr>
            <tr>
                <td>åŸå§‹æ€»åˆ†</td>
                <td class="${totalScore > 48 ? 'red' : 'green'}">${totalScore}</td>
                <td>0~72</td>
            </tr>
        </table>
    `;

    let dimBox = document.getElementById('dimensions_container');
    dimBox.innerHTML = '';
    dims.forEach(d=>{
        let item = document.createElement('div');
        item.className = 'dim-item';
        item.innerHTML = `
            <div class="dim-label">${d.name}: ${d.score}/${d.maxScore} (${d.percentage.toFixed(1)}%)</div>
            <div class="dim-bar"><div class="dim-fill" style="width:${d.percentage}%; background:${d.color}"></div></div>
        `;
        dimBox.appendChild(item);
    });

    let mbox = document.getElementById('measures_container');
    mbox.innerHTML = '';
    meas.forEach(txt=>{
        let mi = document.createElement('div');
        mi.className = 'measure-item';
        mi.innerText = txt;
        mbox.appendChild(mi);
    });
}
</script>

</div>
</body>
</html>
